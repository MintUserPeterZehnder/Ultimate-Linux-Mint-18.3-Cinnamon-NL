#!/bin/bash
set -e

echo "##################################################################################################################"
echo "#                                                                                                                 "
echo "# Written To Be Used On 64 Bits Computers                                                                         "
echo "# Author 	: 	Peter Zehnder                                                                                       "
echo "#                                                                                                                 "
echo "##################################################################################################################"

echo "##################################################################################################################"
echo "#                                                                                                                 "
echo "# RUN AT YOUR OWN RISK                                                                                            "
echo "#                                                                                                                 "
echo "##################################################################################################################"

echo "##################################################################################################################"
echo "#                                                                                                                 "
echo "# Latest Version Harmony Player                                                                                   "
echo "#                                                                                                                 "
echo "##################################################################################################################"
                                 
echo "##################################################################################################################"
echo "#                                                                                                                 "
echo "# Download Latest Version                                                                                         "
echo "#                                                                                                                 "
echo "##################################################################################################################"

wget https://github.com/vincelwt/harmony/releases/download/v0.4.2/harmony-0.4.2-amd64.deb -O /tmp/harmony-0.4.2-amd64.deb

echo "##################################################################################################################"
echo "#                                                                                                                 "
echo "# Install Dependencies                                                                                            "
echo "#                                                                                                                 "
echo "##################################################################################################################"

sudo apt-get -y install libappindicator1 libindicator7

echo "##################################################################################################################"
echo "#                                                                                                                 "
echo "# Install The Downloaded Version                                                                                  "
echo "#                                                                                                                 "
echo "##################################################################################################################"

sudo apt-get -f -y install
sudo dpkg -i /tmp/harmony-0.4.2-amd64.deb

echo "##################################################################################################################"
echo "#                                                                                                                 "
echo "# Remove Downloaded File                                                                                          "
echo "#                                                                                                                 "
echo "##################################################################################################################"

rm /tmp/harmony-0.4.2-amd64.deb

echo "##################################################################################################################"
echo "#                                                                                                                 "
echo "# Harmony Player Installed                                                                                        "
echo "#                                                                                                                 "
echo "##################################################################################################################"

