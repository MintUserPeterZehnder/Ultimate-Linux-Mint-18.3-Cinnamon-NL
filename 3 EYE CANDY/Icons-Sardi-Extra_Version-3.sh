#!/bin/bash
set -e

echo "##################################################################################################################"
echo "#                                                                                                                 "
echo "# Written To Be Used On 64 Bits Computers                                                                         "
echo "# Author 	: 	Peter Zehnder                                                                                       "
echo "#                                                                                                                 "
echo "##################################################################################################################"

echo "##################################################################################################################"
echo "#                                                                                                                 "
echo "# RUN AT YOUR OWN RISK                                                                                            "
echo "#                                                                                                                 "
echo "##################################################################################################################"

echo "##################################################################################################################"
echo "#                                                                                                                 "
echo "# Cleaning tmp                                                                                                    "
echo "#                                                                                                                 "
echo "##################################################################################################################"

[ -d /tmp/Sardi-Extra ] && rm -rf /tmp/Sardi-Extra

echo "##################################################################################################################"
echo "#                                                                                                                 "
echo "# If There Is No Hidden Folder Then Make One                                                                      "
echo "#                                                                                                                 "
echo "##################################################################################################################"

[ -d $HOME"/.icons" ] || mkdir -p $HOME"/.icons"

echo "##################################################################################################################"
echo "#                                                                                                                 "
echo "# Distro                                                                                                          "
echo "#                                                                                                                 "
echo "##################################################################################################################"

echo "Checking Presence Of lsb-release And Install It When Missing                                                      "

	if ! location="$(type -p "lsb_release")" || [ -z "lsb_release" ]; then

		# Check if apt-git Is Installed
		if which apt-get > /dev/null; then

			sudo apt-get install -y lsb-release

		fi

		# Check If pacman Is Installed
		if which pacman > /dev/null; then

			sudo pacman -S --noconfirm lsb-release

		fi

		# Check If eopkg Is Installed
		if which eopkg > /dev/null; then

			sudo eopkg install -y lsb-release

		fi
		
	fi

DISTRO=$(lsb_release -si)

echo "##################################################################################################################"
echo "# You Are Working On                                                                                              " $DISTRO                                                                                   
echo "##################################################################################################################"

echo "##################################################################################################################"
echo "#                                                                                                                 "
echo "# Dependencies                                                                                                    "
echo "#                                                                                                                 "
echo "##################################################################################################################"

case $DISTRO in 

	LinuxMint|linuxmint|Ubuntu|ubuntu)

		# git

		# Check If conky Is Installed
		if ! location="$(type -p "git")" || [ -z "git" ]; then

		echo "##########################################################################################################"
        echo "#                                                                                                         "
        echo "# Installing git For This Script To Work                                                                  "
        echo "#                                                                                                         "
        echo "##########################################################################################################"

		  	sudo apt-get install -y git

		  else
		  	echo "##########################################################################################################"
            echo "#                                                                                                         "
            echo "# Git Was Installed. Proceeding...                                                                        "
            echo "#                                                                                                         "
            echo "##########################################################################################################"
 
		fi

		;;

	Arch)

		echo "##########################################################################################################"
        echo "#                                                                                                         "
        echo "# Installing Software For Your Arch Machine                                                               "
        echo "#                                                                                                         "
        echo "##########################################################################################################"

echo "##################################################################################################################"
echo "#                                                                                                                 "
echo "# Git                                                                                                             "
echo "#                                                                                                                 "
echo "##################################################################################################################"

		if ! location="$(type -p "git")" || [ -z "git" ]; then

		echo "##########################################################################################################"
        echo "#                                                                                                         "
        echo "# Installing git For This Script To Work                                                                  "
        echo "#                                                                                                         "
        echo "##########################################################################################################"

		  	sudo pacman -S --noconfirm git

		  else
		  	echo "######################################################################################################"
            echo "#                                                                                                     "
            echo "# Installing git For This Script To Work                                                              "
            echo "#                                                                                                     "
            echo "######################################################################################################"

		  	echo "######################################################################################################"
            echo "#                                                                                                     "
            echo "# Igit Was Installed. Proceeding...                                                                   "
            echo "#                                                                                                     "
            echo "######################################################################################################"

		fi

		;;

	Solus)
	
	# git

		if ! location="$(type -p "git")" || [ -z "git" ]; then

		echo "##########################################################################################################"
        echo "#                                                                                                         "
        echo "# Installing git For This Script To Work                                                                  "
        echo "#                                                                                                         "
        echo "##########################################################################################################"

		  	sudo eopkg install -y git

		  else
		  	echo "git Was Installed. Proceeding...                                                                      "
		fi

		;;

	*)
		echo "No Installation Lines For Your System.                                                                    "

		;;
esac

git clone https://github.com/erikdubois/Sardi-Extra /tmp/Sardi-Extra
find /tmp/Sardi-Extra -maxdepth 1 -type f -exec rm -rf '{}' \;

cp -rf /tmp/Sardi-Extra/* ~/.icons/

echo "##################################################################################################################"
echo "#                                                                                                                 "
echo "# Cleaning tmp                                                                                                    "
echo "#                                                                                                                 "
echo "##################################################################################################################"

[ -d /tmp/Sardi-Extra ] && rm -rf /tmp/Sardi-Extra

echo "##################################################################################################################"
echo "#                                                                                                                 "
echo "# GIcons Sardi Extra Installed                                                                                    "
echo "#                                                                                                                 "
echo "##################################################################################################################"

