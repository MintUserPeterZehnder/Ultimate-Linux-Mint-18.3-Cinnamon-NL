#!/bin/bash
set -e

echo "##################################################################################################################"
echo "#                                                                                                                 "
echo "# Written To Be Used On 64 Bits Computers                                                                         "
echo "# Author 	: 	Peter Zehnder                                                                                       "
echo "#                                                                                                                 "
echo "##################################################################################################################"

echo "##################################################################################################################"
echo "#                                                                                                                 "
echo "# RUN AT YOUR OWN RISK                                                                                            "
echo "#                                                                                                                 "
echo "##################################################################################################################"

echo "##################################################################################################################"
echo "#                                                                                                                 "
echo "# Cleaning tmp                                                                                                    "
echo "#                                                                                                                 "
echo "##################################################################################################################"

[ -d /tmp/Surfn ] && rm -rf /tmp/Surfn

echo "##################################################################################################################"
echo "#                                                                                                                 "
echo "# If There Is No Hidden Folder Then Make One                                                                      "
echo "#                                                                                                                 "
echo "##################################################################################################################"

[ -d $HOME"/.icons" ] || mkdir -p $HOME"/.icons"

echo "##################################################################################################################"
echo "#                                                                                                                 "
echo "# Distro                                                                                                          "
echo "#                                                                                                                 "
echo "##################################################################################################################"

echo "##################################################################################################################"
echo "#                                                                                                                 "
echo "# Checking Presence Of lsb-release And Install It When Missing                                                    "
echo "#                                                                                                                 "
echo "##################################################################################################################"

	if ! location="$(type -p "lsb_release")" || [ -z "lsb_release" ]; then

echo "##################################################################################################################"
echo "#                                                                                                                 "
echo "# Checking Presence Of lsb-release And Install It When Missing                                                    "
echo "#                                                                                                                 "
echo "##################################################################################################################"
     
  echo "################################################################################################################"
  echo "#                                                                                                               "
  echo "# Check If apt-git Is Installed                                                                                 "
  echo "#                                                                                                               "
  echo "################################################################################################################"

		if which apt-get > /dev/null; then

			sudo apt-get install -y lsb-release

		fi

  echo "################################################################################################################"
  echo "#                                                                                                               "
  echo "# Check If pacman Is Installed                                                                                  "
  echo "#                                                                                                               "
  echo "################################################################################################################"

		if which pacman > /dev/null; then

			sudo pacman -S --noconfirm lsb-release

		fi

  echo "################################################################################################################"
  echo "#                                                                                                               "
  echo "# Check If eopkg Is Installed                                                                                   "
  echo "#                                                                                                               "
  echo "################################################################################################################"

 		if which eopkg > /dev/null; then

			sudo eopkg install -y lsb-release

		fi
		
	fi

DISTRO=$(lsb_release -si)

echo "##################################################################################################################"
echo "#                                                                                                                 "
echo "# You Are Working On                                                                                              " $DISTRO
echo "#                                                                                                                 "
echo "##################################################################################################################"

echo "##################################################################################################################"
echo "#                                                                                                                 "
echo "# Dependencies                                                                                                    "
echo "#                                                                                                                 "
echo "##################################################################################################################"
  
case $DISTRO in 

	LinuxMint|linuxmint|Ubuntu|ubuntu)

  echo "################################################################################################################"
  echo "#                                                                                                               "
  echo "# Check If conky Is Installed                                                                                   "
  echo "#                                                                                                               "
  echo "################################################################################################################"

		if ! location="$(type -p "git")" || [ -z "git" ]; then

            echo "######################################################################################################"
            echo "#                                                                                                     "
            echo "# Installing git For This Script To Work                                                              "
            echo "#                                                                                                     "
            echo "######################################################################################################"

		  	sudo apt-get install -y git

		  else
		  
		    echo "######################################################################################################"
            echo "#                                                                                                     "
            echo "# Git Was Installed. Proceeding...                                                                    "
            echo "#                                                                                                     "
            echo "######################################################################################################"

		fi

		;;

	Arch)

        echo "##########################################################################################################"
        echo "#                                                                                                         "
        echo "# Installing Software For Your Arch Machine                                                               "
        echo "#                                                                                                         "
        echo "##########################################################################################################"

  echo "################################################################################################################"
  echo "#                                                                                                               "
  echo "# Git                                                                                                           "
  echo "#                                                                                                               "
  echo "################################################################################################################"

		if ! location="$(type -p "git")" || [ -z "git" ]; then

            echo "######################################################################################################"
            echo "#                                                                                                     "
            echo "# Installing git For This Script To Work                                                              "
            echo "#                                                                                                     "
            echo "######################################################################################################"

		  	sudo pacman -S --noconfirm git

		  else
		  
		    echo "######################################################################################################"
            echo "#                                                                                                     "
            echo "# git Was Installed. Proceeding...                                                                    "
            echo "#                                                                                                     "
            echo "######################################################################################################"

		fi

		;;

	Solus)
	
  echo "################################################################################################################"
  echo "#                                                                                                               "
  echo "# Git                                                                                                           "
  echo "#                                                                                                               "
  echo "################################################################################################################"


		if ! location="$(type -p "git")" || [ -z "git" ]; then

            echo "######################################################################################################"
            echo "#                                                                                                     "
            echo "# Installing Software For Your Arch Machine                                                           "
            echo "#                                                                                                     "
            echo "######################################################################################################"

		  	sudo eopkg install -y git

		  else
		  
		    echo "######################################################################################################"
            echo "#                                                                                                     "
            echo "# git Was Installed. Proceeding...                                                                    "
            echo "#                                                                                                     "
            echo "######################################################################################################"

		fi

		;;

	*)
	
	    echo "##########################################################################################################"
        echo "#                                                                                                         "
        echo "# No Installation Lines For Your System.                                                                  "
        echo "#                                                                                                         "
        echo "##########################################################################################################"

		;;
esac

git clone https://github.com/erikdubois/Surfn /tmp/Surfn
find /tmp/Surfn -maxdepth 1 -type f -exec rm -rf '{}' \;
cp -rf /tmp/Surfn/* ~/.icons/

echo "#################################################################################################################"
echo "#                                                                                                                "
echo "# Cleaning tmp                                                                                                   "
echo "#                                                                                                                "
echo "#################################################################################################################"
  
[ -d /tmp/Surfn ] && rm -rf /tmp/Surfn

echo "#################################################################################################################"
echo "#                                                                                                                "
echo "# Icons Surfn Installed                                                                                          "
echo "#                                                                                                                "
echo "#################################################################################################################"
  
